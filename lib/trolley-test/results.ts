import { AxisType } from "./questions";

export interface TrolleyResult {
  id: string;
  title: string;
  emoji: string;
  subtitle: string;
  description: string;
  traits: string[];
  color: string;
  isHidden: boolean;
}

export const results: TrolleyResult[] = [
  {
    id: "utilitarian-strong",
    title: "åŠŸåˆ©ä¸»ç¾©è€…",
    emoji: "ğŸ“Š",
    subtitle: "æœ€å¤§å¤šæ•°ã®æœ€å¤§å¹¸ç¦ã‚’è¿½æ±‚ã™ã‚‹åˆç†ä¸»ç¾©è€…",
    description:
      "ã‚ãªãŸã¯çµæœãŒã™ã¹ã¦ã€‚ã€Œä½•äººæ•‘ãˆã‚‹ã‹ã€ã§åˆ¤æ–­ã™ã‚‹ã‚¿ã‚¤ãƒ—ã€‚å†·ãŸãè¦‹ã‚‰ã‚Œã‚‹ã“ã¨ã‚‚ã‚ã‚‹ã‘ã©ã€å®Ÿã¯èª°ã‚ˆã‚Šã‚‚å¤šãã®äººã‚’æ•‘ã„ãŸã„ã¨æ€ã£ã¦ã„ã‚‹ã€‚æ„Ÿæƒ…ã‚ˆã‚Šæ•°å­—ã€ç›´æ„Ÿã‚ˆã‚Šè¨ˆç®—ã€‚ã§ã‚‚ãã®åˆç†æ€§ã“ããŒã€ã‚ãªãŸã®å„ªã—ã•ã®å½¢ã€‚",
    traits: [
      "æ•°å­—ã¨è«–ç†ã§åˆ¤æ–­ã™ã‚‹",
      "æ„Ÿæƒ…ã«æµã•ã‚Œã«ãã„",
      "ã€ŒçµæœãŒè‰¯ã‘ã‚Œã°OKã€ã¨ã„ã†æ€è€ƒ",
      "å‘¨å›²ã‹ã‚‰å†·ãŸã„ã¨æ€ã‚ã‚ŒãŒã¡",
      "å®Ÿã¯èª°ã‚ˆã‚Šã‚‚å¤šãã®äººã‚’æ•‘ã„ãŸã„",
    ],
    color: "#3B82F6",
    isHidden: false,
  },
  {
    id: "utilitarian-mild",
    title: "ã‚„ã‚„åŠŸåˆ©ä¸»ç¾©",
    emoji: "âš–ï¸ğŸ“Š",
    subtitle: "åˆç†çš„ã ã‘ã©ã€ã‚±ãƒ¼ã‚¹ãƒã‚¤ã‚±ãƒ¼ã‚¹ã§åˆ¤æ–­",
    description:
      "åŸºæœ¬ã¯åˆç†çš„ã«è€ƒãˆã‚‹ã‘ã©ã€ã€Œã•ã™ãŒã«ã“ã‚Œã¯â€¦ã€ã¨ã„ã†ãƒ©ã‚¤ãƒ³ã‚‚ã‚ã‚‹ã€‚é ­ã¨å¿ƒã®ãƒãƒ©ãƒ³ã‚¹ãŒå–ã‚ŒãŸã‚¿ã‚¤ãƒ—ã€‚ç¾å®Ÿçš„ãªåˆ¤æ–­ãŒã§ãã‚‹ã‹ã‚‰ã€ãƒªãƒ¼ãƒ€ãƒ¼ã«å‘ã„ã¦ã„ã‚‹ã€‚ãŸã ã—ã€ä¾‹å¤–ã‚’èªã‚ã‚‹æŸ”è»Ÿã•ãŒæ™‚ã«è¿·ã„ã®åŸå› ã«ã‚‚ã€‚",
    traits: [
      "åŸºæœ¬ã¯åˆç†çš„ã«è€ƒãˆã‚‹",
      "ã§ã‚‚æ„Ÿæƒ…ã‚‚ç„¡è¦–ã—ãªã„",
      "ã€Œã‚±ãƒ¼ã‚¹ãƒã‚¤ã‚±ãƒ¼ã‚¹ã€ãŒå£ç™–",
      "ç¾å®Ÿçš„ãªåˆ¤æ–­åŠ›ãŒã‚ã‚‹",
      "è¿·ã£ãŸã‚‰ã€Œã‚ˆã‚Šå¤šãã®äººãŒå¹¸ã›ã«ãªã‚‹æ–¹ã€ã‚’é¸ã¶",
    ],
    color: "#6366F1",
    isHidden: false,
  },
  {
    id: "balance",
    title: "ãƒãƒ©ãƒ³ã‚¹å‹",
    emoji: "âš–ï¸",
    subtitle: "çŠ¶æ³æ¬¡ç¬¬ã€‚æŸ”è»Ÿæ€è€ƒã®æŒã¡ä¸»",
    description:
      "ã‚ãªãŸã¯åŠŸåˆ©ä¸»ç¾©ã§ã‚‚ç¾©å‹™è«–ã§ã‚‚ãªã„ã€‚å•é¡Œã”ã¨ã«ã€Œä»Šå›ã¯ã“ã£ã¡ãŒæ­£ã—ã„ã€ã¨åˆ¤æ–­ã™ã‚‹æŸ”è»Ÿæ€è€ƒã®æŒã¡ä¸»ã€‚ä¸€è¦‹å„ªæŸ”ä¸æ–­ã«è¦‹ãˆã‚‹ã‘ã©ã€å®Ÿã¯æœ€ã‚‚ç¾å®Ÿçš„ã€‚ã©ã¡ã‚‰ã®ç«‹å ´ã‚‚ç†è§£ã§ãã‚‹ã‹ã‚‰ã“ãã€æ©‹æ¸¡ã—å½¹ã«ãªã‚Œã‚‹äººã€‚",
    traits: [
      "çŠ¶æ³ã«å¿œã˜ã¦åˆ¤æ–­ã‚’å¤‰ãˆã‚‰ã‚Œã‚‹",
      "ã€Œæ­£è§£ã¯ä¸€ã¤ã˜ã‚ƒãªã„ã€ã¨æ€ã£ã¦ã„ã‚‹",
      "ä¸¡æ–¹ã®æ„è¦‹ã‚’èã‘ã‚‹èª¿åœè€…",
      "å„ªæŸ”ä¸æ–­ã«è¦‹ã‚‰ã‚ŒãŒã¡",
      "å®Ÿã¯æœ€ã‚‚ãƒªã‚¢ãƒªã‚¹ãƒˆ",
    ],
    color: "#8B5CF6",
    isHidden: false,
  },
  {
    id: "deontological-mild",
    title: "ã‚„ã‚„ç¾©å‹™è«–è€…",
    emoji: "âš–ï¸ğŸ“œ",
    subtitle: "ãƒ«ãƒ¼ãƒ«é‡è¦–ã ã‘ã©ã€ä¾‹å¤–ã‚‚èªã‚ã‚‹",
    description:
      "åŸºæœ¬ã¯ã€Œæ­£ã—ã„ã“ã¨ã¯æ­£ã—ã„ã€ã¨ä¿¡ã˜ã¦ã„ã‚‹ã‘ã©ã€æ¥µç«¯ãªçŠ¶æ³ã§ã¯æ‚©ã‚€ã€‚ãƒ«ãƒ¼ãƒ«ã‚’å¤§åˆ‡ã«ã—ã¤ã¤ã‚‚ã€äººé–“å‘³ã®ã‚ã‚‹åˆ¤æ–­ãŒã§ãã‚‹ã‚¿ã‚¤ãƒ—ã€‚ä¿¡é ¼ã•ã‚Œã‚„ã™ãã€ã€Œã“ã®äººãªã‚‰ä»»ã›ã‚‰ã‚Œã‚‹ã€ã¨æ€ã‚ã‚Œã‚‹å­˜åœ¨ã€‚",
    traits: [
      "ãƒ«ãƒ¼ãƒ«ã‚„ç´„æŸã‚’å¤§åˆ‡ã«ã™ã‚‹",
      "ã§ã‚‚æ¥µç«¯ãªçŠ¶æ³ã§ã¯æ‚©ã‚€",
      "ã€Œç­‹ã‚’é€šã™ã€ã“ã¨ã‚’é‡è¦–",
      "ä¿¡é ¼ã•ã‚Œã‚„ã™ã„",
      "æ™‚ã«é ‘å›ºã¨æ€ã‚ã‚Œã‚‹ã“ã¨ã‚‚",
    ],
    color: "#D97706",
    isHidden: false,
  },
  {
    id: "deontological-strong",
    title: "ç¾©å‹™è«–è€…",
    emoji: "ğŸ“œ",
    subtitle: "ã€Œæ­£ã—ã„ã“ã¨ã¯æ­£ã—ã„ã€ã®äºº",
    description:
      "ã‚ãªãŸã«ã¨ã£ã¦æ­£ç¾©ã¯çµ¶å¯¾ã€‚ãŸã¨ãˆçµæœãŒæ‚ªãã¦ã‚‚ã€ã€Œæ­£ã—ã„ãƒ—ãƒ­ã‚»ã‚¹ã€ã‚’è¸ã‚€ã“ã¨ãŒå¤§äº‹ã€‚ã‚«ãƒ³ãƒˆãŒè¦‹ãŸã‚‰æ³£ã„ã¦å–œã¶ã€‚é ‘å›ºã«è¦‹ãˆã‚‹ã‘ã©ã€ãã®ä¸€è²«æ€§ã“ããŒã‚ãªãŸã®ä¿¡å¿µã§ã‚ã‚Šã€å‘¨å›²ã‹ã‚‰ã®æ·±ã„ä¿¡é ¼ã®æºæ³‰ã€‚",
    traits: [
      "åŸå‰‡ã‚’æ›²ã’ãªã„",
      "ã€ŒçµæœãŒè‰¯ãã¦ã‚‚ã‚ºãƒ«ã¯ãƒ€ãƒ¡ã€",
      "ç´„æŸã¯çµ¶å¯¾ã«å®ˆã‚‹",
      "å˜˜ãŒè‹¦æ‰‹",
      "ä¸€è²«æ€§ãŒã‚ã‚Šä¿¡é ¼ãŒåšã„",
    ],
    color: "#DC2626",
    isHidden: false,
  },
  {
    id: "chaos",
    title: "ã‚«ã‚ªã‚¹æ€è€ƒ",
    emoji: "ğŸŒ€",
    subtitle: "ãƒ‘ã‚¿ãƒ¼ãƒ³ãªã—ã€‚äºˆæ¸¬ä¸èƒ½ã®è‡ªç”±äºº",
    description:
      "ã‚ãªãŸã®å›ç­”ã«ã¯ãƒ‘ã‚¿ãƒ¼ãƒ³ãŒãªã„ã€‚åŠŸåˆ©ä¸»ç¾©ã§ã‚‚ç¾©å‹™è«–ã§ã‚‚ãªã„ã€ç¬¬ä¸‰ã®é“ã‚’è¡Œãäººã€‚ã‚‚ã—ãã¯è³ªå•ã”ã¨ã«å…¨åŠ›ã§æ‚©ã‚“ã çµæœãŒã“ã‚Œã€‚æ—¢å­˜ã®æ ã«åã¾ã‚‰ãªã„æ€è€ƒã¯ã€å®Ÿã¯å“²å­¦è€…ã®ç´ è³ªã€‚èª°ã«ã‚‚äºˆæ¸¬ã§ããªã„ã€ãã‚ŒãŒã‚ãªãŸã®é­…åŠ›ã€‚",
    traits: [
      "æ—¢å­˜ã®æ ã«åã¾ã‚‰ãªã„",
      "è³ªå•ã”ã¨ã«å…¨åŠ›ã§æ‚©ã‚€",
      "ã€Œæ­£è§£ãªã‚“ã¦ãªã„ã€ã¨æ€ã£ã¦ã„ã‚‹",
      "äºˆæ¸¬ä¸èƒ½ãªè¡Œå‹•ã§å‘¨å›²ã‚’é©šã‹ã›ã‚‹",
      "å®Ÿã¯å“²å­¦è€…ã®ç´ è³ªã‚ã‚Š",
    ],
    color: "#14B8A6",
    isHidden: false,
  },
  {
    id: "consistent",
    title: "ä¸€è²«æ€§ã®é¬¼",
    emoji: "ğŸ›ï¸",
    subtitle: "å…¨å•åŒã˜å´ã‚’é¸æŠã€‚ãƒ–ãƒ¬ãªã„ã€ãŸã ã—é ‘å›º",
    description:
      "10å•ã™ã¹ã¦ã§åŒã˜è»¸ã‚’é¸ã‚“ã ã‚ãªãŸã€‚ãã®ä¸€è²«æ€§ã¯é©šç•°çš„ã€‚ä¿¡å¿µãŒæ˜ç¢ºã§ã€è¿·ã„ãŒãªã„ã€‚æ”¿æ²»å®¶ã‹CEOã«å‘ã„ã¦ã‚‹ã‹ã‚‚ã€‚ãŸã ã—ã€Œæœ¬å½“ã«å…¨å•æ‚©ã¾ãªã‹ã£ãŸï¼Ÿã€ã¨ã„ã†ç–‘æƒ‘ã‚‚â€¦ã€‚ãƒ–ãƒ¬ãªã„ã“ã¨ã¯å¼·ã•ã ã‘ã©ã€ãŸã¾ã«ã¯æºã‚Œã¦ã‚‚ã„ã„ã‚“ã ã‚ˆã€‚",
    traits: [
      "ä¿¡å¿µãŒæ˜ç¢ºã§æºã‚‹ãŒãªã„",
      "å³æ–­å³æ±ºã‚¿ã‚¤ãƒ—",
      "ã€Œè¿·ã†ã€ã¨ã„ã†æ¦‚å¿µãŒè–„ã„",
      "å‘¨å›²ã‹ã‚‰é ‘å›ºã¨è¨€ã‚ã‚ŒãŒã¡",
      "ãƒªãƒ¼ãƒ€ãƒ¼ã‹ç‹¬è£è€…ã®ç´ è³ª",
    ],
    color: "#0F172A",
    isHidden: true,
  },
  {
    id: "meta-thinker",
    title: "ãƒ¡ã‚¿æ€è€ƒè€…",
    emoji: "ğŸ§ ",
    subtitle: "è‡ªå·±å‚ç…§ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ã«æ°—ã¥ã„ãŸï¼Ÿ",
    description:
      "Q10ã§ã€Œå¤‰ãˆã‚‹ã€ã‚’é¸ã‚“ã ã‚ãªãŸã€‚è‡ªåˆ†ã®å›ç­”ã™ã‚‰ç–‘ã†è¦–ç‚¹ã‚’æŒã£ã¦ã„ã‚‹ã€‚ã€Œã“ã®è¨ºæ–­ã®çµæœã‚’è‰¯ãã™ã‚‹ãŸã‚ã«ç­”ãˆã‚’å¤‰ãˆã‚‹ã€ã¨ã„ã†è¡Œç‚ºè‡ªä½“ãŒåŠŸåˆ©ä¸»ç¾©çš„â€¦ã¨ã„ã†ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ã«æ°—ã¥ã„ãŸã ã‚ã†ã‹ï¼Ÿãƒ¡ã‚¿èªçŸ¥åŠ›ãŒé«˜ãã€ä¸€æ­©å¼•ã„ãŸè¦–ç‚¹ã§ç‰©äº‹ã‚’è¦‹ã‚‰ã‚Œã‚‹äººã€‚",
    traits: [
      "è‡ªåˆ†è‡ªèº«ã‚’å®¢è¦³è¦–ã§ãã‚‹",
      "ã€Œãã‚Œã£ã¦ãã‚‚ãã‚‚â€¦ã€ã¨è€ƒãˆãŒã¡",
      "å“²å­¦çš„ãªæ€è€ƒãŒå¥½ã",
      "ãƒ‘ãƒ©ãƒ‰ãƒƒã‚¯ã‚¹ã«èˆˆå¥®ã™ã‚‹",
      "ãƒ¡ã‚¿èªçŸ¥åŠ›ãŒç•°å¸¸ã«é«˜ã„",
    ],
    color: "#7C3AED",
    isHidden: true,
  },
];

export interface TrolleyScores {
  utilitarian: number;
  deontological: number;
  answers: AxisType[];
}

export function getResult(scores: TrolleyScores): TrolleyResult {
  const { utilitarian, deontological, answers } = scores;

  // éš ã—çµæœãƒã‚§ãƒƒã‚¯: ä¸€è²«æ€§ã®é¬¼ï¼ˆå…¨å•åŒã˜å´ï¼‰
  const allSame =
    answers.length === 10 &&
    (answers.every((a) => a === "utilitarian") ||
      answers.every((a) => a === "deontological"));
  if (allSame) {
    return results.find((r) => r.id === "consistent")!;
  }

  // éš ã—çµæœãƒã‚§ãƒƒã‚¯: ãƒ¡ã‚¿æ€è€ƒè€…ï¼ˆQ10ã§ã€Œå¤‰ãˆã‚‹ã€ã‚’é¸æŠï¼‰
  if (answers.length >= 10 && answers[9] === "utilitarian") {
    return results.find((r) => r.id === "meta-thinker")!;
  }

  // ã‚«ã‚ªã‚¹ãƒã‚§ãƒƒã‚¯: äº¤äº’ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚„è¦å‰‡æ€§ã®ãªã„å›ç­”
  // 4-5-6ã®ã©ã‚Œã«ã‚‚å…¥ã‚‰ãªã„ç‰¹æ®Šãƒ‘ã‚¿ãƒ¼ãƒ³
  if (answers.length === 10) {
    let switches = 0;
    for (let i = 1; i < answers.length; i++) {
      if (answers[i] !== answers[i - 1]) switches++;
    }
    // æ¯å›äº¤äº’ã«åˆ‡ã‚Šæ›¿ã‚ã‚‹ï¼ˆswitches >= 7ï¼‰â†’ ã‚«ã‚ªã‚¹
    if (switches >= 7) {
      return results.find((r) => r.id === "chaos")!;
    }
  }

  // é€šå¸¸ã®çµæœåˆ¤å®š
  if (utilitarian >= 8)
    return results.find((r) => r.id === "utilitarian-strong")!;
  if (utilitarian >= 6)
    return results.find((r) => r.id === "utilitarian-mild")!;
  if (utilitarian >= 4) return results.find((r) => r.id === "balance")!;
  if (deontological >= 6)
    return results.find((r) => r.id === "deontological-mild")!;
  return results.find((r) => r.id === "deontological-strong")!;
}
